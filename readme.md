# Настройка #

Предполагается использование debian-10

Сервера:

1. node1 - веб сервер, ip 10.13.0.21
1. node2 - сервер приложений tomcat, ip 10.13.0.22

В vagrant/virtualbox две сетевые карты:

1. eth0 - nat устройства с default маршрутом для доступа к интернету
1. eth1 - мост к локальной сетевой, сеть 10.13.0.0/24

При использовании vagrant для ansible создастся inventory с пробросами портов
либо руками добавить 
```
node1 ansible_host=10.13.0.21 ansible_user='vagrant'
node2 ansible_host=10.13.0.22 ansible_user='vagrant'
```

Запускаем `ansible-playbook playbook.yml`

если магия сработает, то jenkins будет доступен на `http://10.13.0.21/jenkins`,
а ключ для запуска будет в файле `_initial_password.secret`


Скрипт бекапа лежит на `node2:/etc/cron.d/backup-other`, 
сохраняет в /home/backup/, для работы отключил проверку подписи хоста по ssh


# Тестовое задание на позицию "Инженер" #

## Задача ##
Подготовить конфигурацию для автоматизированного развертывания двух серверов 
с помощью ansible:

1. Веб-сервер
1. Сервер приложений


## Требования ##

Веб-сервер: 

 * ОС: семейства Linux на выбор
 * ПО: apache или nginx
 * Веб-сервер должен проксировать запросы на сервер приложений.


Сервер-приложений:

 * ОС: семейства Linux на выбор
 * ПО: Apache Tomcat с установленным приложением Jenkins

На сервере должна быть реализована процедура резервного копирования конфигурации веб-
сервера(apache/nginx) с использованием bash-скрипта, выполняемого по расписанию раз в сутки.


## Результат ##

Результатом выполнения задания должны быть:

 1. Структура скриптов ansible (playbooks)
 1. Инструкция по запуску и развертыванию серверов с использованием скриптов ansible


* Желательно подготовить образы виртуальных машин или конфигурационный файл запуска
контейнеров для упрощения проверки. *
